# ============================================================================
# NL-DB-Assistant Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================================================
# Supabase Configuration (REQUIRED)
# ============================================================================
# Get these from your Supabase project dashboard:
# https://app.supabase.com/project/_/settings/api

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_anon_key_here

# ============================================================================
# Direct PostgreSQL Connection (RECOMMENDED)
# ============================================================================
# Get from Supabase → Settings → Database → Connection pooling
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

DATABASE_URL=postgresql://postgres:your_password@db.your-project.supabase.co:5432/postgres
USE_DIRECT_POSTGRES=true

# ============================================================================
# GROQ API Configuration (REQUIRED for SQL generation)
# ============================================================================
# Get your API key from: https://console.groq.com/keys

GROQ_API_KEY=your_groq_api_key_here
GROQ_MODEL=llama-3.3-70b-versatile

# ============================================================================
# Embedding Configuration (Optional - for RAG)
# ============================================================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Or use OpenAI embeddings
# OPENAI_API_KEY=your_openai_key_here
# EMBEDDING_MODEL=text-embedding-3-small

# ============================================================================
# Backend Server Configuration
# ============================================================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# Security Settings
# ============================================================================
ALLOW_DESTRUCTIVE_QUERIES=true
REQUIRE_CONFIRMATION_FOR_DESTRUCTIVE=true
MAX_QUERY_COMPLEXITY=100
ENABLE_AUDIT_LOG=true
QUERY_TIMEOUT=30000
MAX_ROWS_AFFECTED=1000

# ============================================================================
# Connection Pool Settings
# ============================================================================
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=info          # Options: error, warn, info, debug
LOG_QUERIES=true

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_SCHEMA_CACHE=true
ENABLE_RAG=false  # Set to true if you want RAG features
MAX_CONTEXT_CHUNKS=5
